define(["jquery"],function(a){return{stitles:[],init:function(a){this.stitles=a},fetchTranscriptionData:function(){return this.stitles},fetchCount:function(){return this.stitles.length},addItem:function(a,b){var c=this.makeItem(b);this.stitles.push(c)},insertItem:function(a,b){var c=this.makeItem(b);this.stitles.splice(a,0,c)},removeItem:function(a){this.stitles.splice(a,1)},fetchItem:function(a){return this.stitles[a]},updateItem:function(a,b){this.stitles[a].part=b},movedown:function(a){return!!this.canmovedown(a)&&(this.moveItem(a,a+1),!0)},moveup:function(a){return!!this.canmoveup(a)&&(this.moveItem(a,a-1),!0)},moveItem:function(a,b){var c=this.stitles.splice(a,1)[0];this.stitles.splice(b,0,c)},canmoveup:function(a){return!(0==a||this.fetchCount()<2)},canmovedown:function(a){return!(a>=this.fetchCount()-1||this.fetchCount()<2)},makeItem:function(a){return{part:a}},split:function(a){var b=this.fetchItem(a),c=b.end-b.start;if(c<300)return!1;var d=b.start,e=b.start+c/2-100,f=e+200,g=b.end;return this.insertItem(a,d,e,b.part),this.updateItem(a+1,f,g,b.part),!0},mergeUp:function(a){if(!this.canMergeUp(a))return!1;var b=this.fetchItem(a),c=this.fetchItem(a-1);return this.updateItem(a-1,c.start,b.end,c.part+" "+b.part),this.removeItem(a),!0},canMergeUp:function(a){return!(0==a||this.fetchCount()<2)}}});