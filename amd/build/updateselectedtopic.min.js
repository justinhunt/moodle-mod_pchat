define(["jquery","core/log","mod_pchat/definitions","core/ajax","core/notification"],function(a,b,c,d,e){"use strict";return b.debug("PChat Updated Selected Topic: initialising"),{init:function(a){this.register_events()},register_events:function(){var b=a("."+c.topicscontainer);b.on("click","."+c.topiccheckbox,function(b){var c=a(this),f=c.data("topicid");c.addClass("term-loading"),d.call([{methodname:"mod_pchat_toggle_topic_selected",args:{topicid:f}}])[0].then(function(b){return b?void c.addClass("term-seen"):a.Deferred().reject()}).fail(e.exception).always(function(){c.removeClass("term-loading")})})},all_selected:function(){var b=a("."+defs.topicscontainer);return b.find("."+defs.topiccheckbox).length===b.find(".term.term-seen").length}}});