define ("mod_pchat/transcripteditor",["jquery","core/log","mod_pchat/conversationconstants","mod_pchat/definitions","core/notification","mod_pchat/previewhelper","mod_pchat/conversationeditor","mod_pchat/vtthelper"],function(a,b,c,d,e,f,g,h){"use strict";b.debug("PChat Transcript Editor: initialising");return{init:function init(a){var b=this,d=this.init_controls(a);this.register_events(a,d);g.init([],c.mediatype_audio);f.init();var e=a.mediaurl,h=d.updatecontrol.val();this.loadMedia(e);this.loadJSON(h);g.doSave=function(){var a=g.fetchTranscriptionData();d.updatecontrol.val(JSON.stringify(a))}},init_controls:function init_controls(b){var d={updatecontrol:a("[name=\""+b.updatecontrol+"\"]"),savebutton:a(c.savebutton),removeallbutton:a(c.removeallbutton)};return d},register_events:function register_events(){this},loadMedia:function loadMedia(a){if(a&&""!==a){f.setMediaURL(a)}},loadVTT:function loadVTT(b){if(b&&""!==b){a.get(b,function(a){var b=h.convertVttToJson(a);g.resetData(b)})}},loadJSON:function loadJSON(a){if(a&&""!==a){var b=JSON.parse(a);g.resetData(b)}}}});
//# sourceMappingURL=transcripteditor.min.js.map
