define(["jquery","core/log","mod_pchat/definitions","core/notification","core/templates"],function(a,b,c,d,e){"use strict";return b.debug("PChat Update Target Words: initialising"),{init:function(c){var d="#amdopts_"+c.controlid,e=a(d).get(0);return e?(c=JSON.parse(e.value),a(d).remove(),void this.register_events(c.topics,c.triggercontrol,c.updatecontrol)):void b.debug("Read Seed Test Controller: No config found on page. Giving up.")},register_events:function(b,d,f){a('[name="'+d+'"]').on("change",function(){var d=a(this).val(),g=!1;if(a.each(b,function(){this.id==d&&(g=this)}),g){if(a('[name="'+f+'"]').val(g.targetwords),""===g.targetwords.trim())return;var h=[];h.targetwords=g.targetwords.split("\n"),e.render("mod_pchat/targetwords",h).then(function(b,d){var e=a("#"+c.C_TARGETWORDSDISPLAY);e.html(b)})}})}}});