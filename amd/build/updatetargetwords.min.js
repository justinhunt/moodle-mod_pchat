define(["jquery","core/log","mod_pchat/definitions","core/notification","core/templates"],(function($,log,def,notification,templates){return log.debug("PChat Update Target Words: initialising"),{init:function(opts){var theid="#amdopts_"+opts.controlid,configcontrol=$(theid).get(0);configcontrol?(opts=JSON.parse(configcontrol.value),$(theid).remove(),this.register_events(opts.topics,opts.triggercontrol,opts.updatecontrol)):log.debug(" Controller: No config found on page. Giving up.")},register_events:function(topics,trigger,update){$('[name="'+trigger+'"]').on("change",(function(){var newvalue=$(this).val(),selectedtopic=!1;if($.each(topics,(function(){this.id==newvalue&&(selectedtopic=this)})),selectedtopic){if($('[name="'+update+'"]').val(selectedtopic.targetwords),""===selectedtopic.targetwords.trim())return;var tdata=[];tdata.targetwords=selectedtopic.targetwords.split("\n"),templates.render("mod_pchat/targetwords",tdata).then((function(html,js){$("#"+def.C_TARGETWORDSDISPLAY).html(html)})),$(".mod_pchat_topiccombo_explainer").hide()}}))}}}));

//# sourceMappingURL=updatetargetwords.min.js.map