{"version":3,"sources":["../src/activitycontroller.js"],"names":["define","$","jqui","log","debug","cmid","activitydata","recorderid","controls","clone","extend","init","props","dd","theid","widgetid","configcontrol","get","JSON","parse","value","remove","process_html","register_events","opts","hider"],"mappings":"AACAA,OAAM,gCAAC,CAAC,QAAD,CAAU,UAAV,CAAsB,UAAtB,CAAiC,uBAAjC,CAAD,CACF,SAASC,CAAT,CAAYC,CAAZ,CAAkBC,CAAlB,CAA4B,CAE5B,aAEAA,CAAG,CAACC,KAAJ,CAAU,mCAAV,EAEA,MAAO,CAEHC,IAAI,CAAE,IAFH,CAGHC,YAAY,CAAE,IAHX,CAIHC,UAAU,CAAE,IAJT,CAKHC,QAAQ,CAAE,IALP,CAQHC,KAAK,CAAE,gBAAU,CACb,MAAOR,CAAAA,CAAC,CAACS,MAAF,IAAc,EAAd,CAAiB,IAAjB,CACV,CAVE,CAaHC,IAAI,CAAE,cAASC,CAAT,CAAe,IACbC,CAAAA,CAAE,CAAG,KAAKJ,KAAL,EADQ,CAIbK,CAAK,CAAC,YAAcF,CAAK,CAACG,QAJb,CAKbC,CAAa,CAAGf,CAAC,CAACa,CAAD,CAAD,CAASG,GAAT,CAAa,CAAb,CALH,CAMjB,GAAGD,CAAH,CAAiB,CACbH,CAAE,CAACP,YAAH,CAAkBY,IAAI,CAACC,KAAL,CAAWH,CAAa,CAACI,KAAzB,CAAlB,CACAnB,CAAC,CAACa,CAAD,CAAD,CAASO,MAAT,EACH,CAHD,IAGK,CAEDlB,CAAG,CAACC,KAAJ,CAAU,uDAAV,EACA,MACH,CAEDS,CAAE,CAACR,IAAH,CAAUO,CAAK,CAACP,IAAhB,CACAQ,CAAE,CAACS,YAAH,GACAT,CAAE,CAACU,eAAH,EACH,CA/BE,CAiCHA,eAAe,CAAE,0BAAW,CACf,IAEZ,CApCE,CAsCHD,YAAY,CAAE,uBAAU,IAChBE,CAAAA,CAAI,CAAG,KAAKlB,YADI,CAIhBE,CAAQ,CAAE,CACViB,KAAK,CAAExB,CAAC,CAAC,IAAMuB,CAAI,MAAX,CADE,CAJM,CAOpB,KAAKhB,QAAL,CAAgBA,CACnB,CA9CE,CAiDV,CAxDK,CAAN","sourcesContent":["/* jshint ignore:start */\r\ndefine(['jquery','jqueryui', 'core/log','mod_pchat/definitions'],\r\n    function($, jqui, log, def) {\r\n\r\n    \"use strict\"; // jshint ;_;\r\n\r\n    log.debug('Activity controller: initialising');\r\n\r\n    return {\r\n\r\n        cmid: null,\r\n        activitydata: null,\r\n        recorderid: null,\r\n        controls: null,\r\n\r\n        //for making multiple instances\r\n        clone: function(){\r\n            return $.extend(true,{},this);\r\n        },\r\n\r\n        //pass in config, the jquery video/audio object, and a function to be called when conversion has finshed\r\n        init: function(props){\r\n            var dd = this.clone();\r\n\r\n            //pick up opts from html\r\n            var theid='#amdopts_' + props.widgetid;\r\n            var configcontrol = $(theid).get(0);\r\n            if(configcontrol){\r\n                dd.activitydata = JSON.parse(configcontrol.value);\r\n                $(theid).remove();\r\n            }else{\r\n                //if there is no config we might as well give up\r\n                log.debug('Pchat Controller: No config found on page. Giving up.');\r\n                return;\r\n            }\r\n\r\n            dd.cmid = props.cmid;\r\n            dd.process_html();\r\n            dd.register_events();\r\n        },\r\n\r\n        register_events: function() {\r\n            var dd = this;\r\n\r\n        },\r\n\r\n        process_html: function(){\r\n            var opts = this.activitydata;\r\n            //these css classes/ids are all passed in from php in\r\n            //renderer.php::fetch_activity_amd\r\n            var controls ={\r\n                hider: $('.' + opts['hider']),\r\n            };\r\n            this.controls = controls;\r\n        }\r\n\r\n    };//end of returned object\r\n});//total end\r\n"],"file":"activitycontroller.min.js"}