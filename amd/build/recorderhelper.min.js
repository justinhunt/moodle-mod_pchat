define(["jquery","core/log","mod_pchat/cloudpoodllloader"],function(a,b,c){"use strict";return b.debug("Recorder helper: initialising"),{status:"stopped",init:function(a,b,d,e){var f=this;c.init(a.recorderid,function(a){switch(a.type){case"recording":"started"===a.action?(f.startbuttonclick(),b(a)):"stopped"===a.action&&(f.stopbuttonclick(),d(a));break;case"awaitingprocessing":"posted"!=f.status&&e(a),f.status="posted";break;case"error":alert("PROBLEM:"+a.message)}})},stopbuttonclick:function(){this.status="stopped"},startbuttonclick:function(){this.status="started"}}});