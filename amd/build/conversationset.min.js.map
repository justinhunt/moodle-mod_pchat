{"version":3,"file":"conversationset.min.js","sources":["../src/conversationset.js"],"sourcesContent":["define([\"jquery\"], function($) {\r\n\r\n    //transcription set is the data layer for the transcriptions. its an array of objects,\r\n    // with methods to access and manipulate items and the array.\r\n\r\n  return {\r\n       stitles: [],\r\n\r\n      init: function(transcriptiondata){\r\n            this.stitles = transcriptiondata;\r\n      },\r\n\r\n      fetchTranscriptionData: function(){\r\n          return this.stitles;\r\n      },\r\n\r\n      fetchCount: function(){\r\n          return this.stitles.length;\r\n      },\r\n      addItem: function(index,part){\r\n          var item = this.makeItem(part);\r\n          this.stitles.push(item);\r\n      },\r\n      insertItem: function(index,part){\r\n          var item = this.makeItem(part);\r\n          this.stitles.splice(index, 0, item);\r\n      },\r\n      removeItem: function(index){\r\n          this.stitles.splice(index, 1);\r\n      },\r\n      fetchItem: function(index){\r\n          return this.stitles[index];\r\n      },\r\n\r\n      updateItem: function(index,part){\r\n\r\n          this.stitles[index].part = part;\r\n      },\r\n      movedown: function(index){\r\n        //basic error check. Should not get here in this case anyway\r\n        if(!this.canmovedown(index)){return false;}\r\n         this.moveItem(index, index+1);\r\n        return true;\r\n\r\n      },\r\n      moveup: function(index){\r\n          //basic error check. Should not get here in this case anyway\r\n          if(!this.canmoveup(index)){return false;}\r\n          this.moveItem(index, index-1);\r\n          return true;\r\n      },\r\n      moveItem: function(from, to) {\r\n        // remove `from` item and store it\r\n        var f = this.stitles.splice(from, 1)[0];\r\n        // insert stored item into position `to`\r\n          this.stitles.splice(to, 0, f);\r\n        },\r\n\r\n      canmoveup: function(index){\r\n          if(index==0 || this.fetchCount()<2){\r\n              return false;\r\n          }else{\r\n              return true;\r\n          }\r\n      },\r\n      canmovedown: function(index){\r\n          if(index>=this.fetchCount()-1 || this.fetchCount()<2){\r\n              return false;\r\n          }else{\r\n              return true;\r\n          }\r\n      },\r\n      makeItem: function(part){\r\n         return { part: part};\r\n      },\r\n\r\n      //UNUSED ... buyt worth keeping\r\n      split: function(index){\r\n          var originalitem = this.fetchItem(index);\r\n          var originalduration = originalitem.end - originalitem.start;\r\n\r\n          //if its less than a third of a second our calcs might error(or someone is trying subliminal advertising)\r\n          //lets just stop right here\r\n          if(originalduration < 300){return false;}\r\n\r\n          var firststart = originalitem.start;\r\n          var firstend =  originalitem.start + (originalduration / 2) - 100;\r\n          var secondstart = firstend + 200;\r\n          var secondend = originalitem.end;\r\n\r\n\r\n          this.insertItem(index,firststart,firstend,originalitem.part);\r\n          this.updateItem(index+1,secondstart,secondend,originalitem.part);\r\n          return true;\r\n\r\n      },\r\n      //UNUSED  .. but worth keeping\r\n      mergeUp: function(index){\r\n          //basic error check. Should not get here in this case anyway\r\n          if(!this.canMergeUp(index)){return false;}\r\n\r\n          var upperitem = this.fetchItem(index);\r\n          var loweritem = this.fetchItem(index-1);\r\n          this.updateItem(index-1,loweritem.start,upperitem.end, loweritem.part + \" \" + upperitem.part);\r\n          this.removeItem(index);\r\n          return true;\r\n      },\r\n      canMergeUp: function(index){\r\n          if(index==0 || this.fetchCount()<2){\r\n              return false;\r\n          }else{\r\n              return true;\r\n          }\r\n      },\r\n\r\n    }\r\n});\r\n"],"names":["define","$","stitles","init","transcriptiondata","fetchTranscriptionData","this","fetchCount","length","addItem","index","part","item","makeItem","push","insertItem","splice","removeItem","fetchItem","updateItem","movedown","canmovedown","moveItem","moveup","canmoveup","from","to","f","split","originalitem","originalduration","end","start","firststart","firstend","secondstart","secondend","mergeUp","canMergeUp","upperitem","loweritem"],"mappings":"AAAAA,mCAAO,CAAC,WAAW,SAASC,SAKnB,CACFC,QAAS,GAEVC,KAAM,SAASC,wBACJF,QAAUE,mBAGrBC,uBAAwB,kBACbC,KAAKJ,SAGhBK,WAAY,kBACDD,KAAKJ,QAAQM,QAExBC,QAAS,SAASC,MAAMC,UAChBC,KAAON,KAAKO,SAASF,WACpBT,QAAQY,KAAKF,OAEtBG,WAAY,SAASL,MAAMC,UACnBC,KAAON,KAAKO,SAASF,WACpBT,QAAQc,OAAON,MAAO,EAAGE,OAElCK,WAAY,SAASP,YACZR,QAAQc,OAAON,MAAO,IAE/BQ,UAAW,SAASR,cACTJ,KAAKJ,QAAQQ,QAGxBS,WAAY,SAAST,MAAMC,WAElBT,QAAQQ,OAAOC,KAAOA,MAE/BS,SAAU,SAASV,eAEbJ,KAAKe,YAAYX,cACfY,SAASZ,MAAOA,MAAM,IACrB,IAGTa,OAAQ,SAASb,eAETJ,KAAKkB,UAAUd,cACdY,SAASZ,MAAOA,MAAM,IACpB,IAEXY,SAAU,SAASG,KAAMC,QAEnBC,EAAIrB,KAAKJ,QAAQc,OAAOS,KAAM,GAAG,QAE9BvB,QAAQc,OAAOU,GAAI,EAAGC,IAG/BH,UAAW,SAASd,eACN,GAAPA,OAAYJ,KAAKC,aAAa,IAMrCc,YAAa,SAASX,eACfA,OAAOJ,KAAKC,aAAa,GAAKD,KAAKC,aAAa,IAMvDM,SAAU,SAASF,YACT,CAAEA,KAAMA,OAIlBiB,MAAO,SAASlB,WACRmB,aAAevB,KAAKY,UAAUR,OAC9BoB,iBAAmBD,aAAaE,IAAMF,aAAaG,SAIpDF,iBAAmB,WAAY,MAE9BG,WAAaJ,aAAaG,MAC1BE,SAAYL,aAAaG,MAASF,iBAAmB,EAAK,IAC1DK,YAAcD,SAAW,IACzBE,UAAYP,aAAaE,gBAGxBhB,WAAWL,MAAMuB,WAAWC,SAASL,aAAalB,WAClDQ,WAAWT,MAAM,EAAEyB,YAAYC,UAAUP,aAAalB,OACpD,GAIX0B,QAAS,SAAS3B,WAEVJ,KAAKgC,WAAW5B,cAAe,MAE/B6B,UAAYjC,KAAKY,UAAUR,OAC3B8B,UAAYlC,KAAKY,UAAUR,MAAM,eAChCS,WAAWT,MAAM,EAAE8B,UAAUR,MAAMO,UAAUR,IAAKS,UAAU7B,KAAO,IAAM4B,UAAU5B,WACnFM,WAAWP,QACT,GAEX4B,WAAY,SAAS5B,eACP,GAAPA,OAAYJ,KAAKC,aAAa"}